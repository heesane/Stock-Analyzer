from __future__ import annotations

from .base import LanguagePack


MESSAGES = {
    # Errors
    "error_no_data": "Price data could not be found.",
    "error_multiindex": "Unable to interpret multi-index columns for the ticker.",
    "error_no_close": "Close column is missing.",
    # Signal actions
    "action_insufficient": "Insufficient data",
    "action_sell_alert": "Sell alert",
    "action_buy_opportunity": "Buy opportunity",
    "action_bullish": "Bullish bias",
    "action_bearish": "Bearish bias",
    "action_neutral": "Neutral",
    # Signal reasons
    "reason_insufficient": "Not enough data to compute indicators.",
    "reason_rsi_overbought": "RSI is above 70 (overbought).",
    "reason_rsi_oversold": "RSI is below 30 (oversold).",
    "reason_macd_bullish": "MACD crossed above the signal line.",
    "reason_macd_bearish": "MACD stays below the signal line.",
    "reason_neutral": "No clear trend signal.",
    # Report headings and labels
    "heading_analysis": "Market Snapshot",
    "heading_signal_board": "Signal Board",
    "heading_indicators": "Indicator Briefing",
    "heading_channels": "Channels & Support/Resistance",
    "heading_relative_performance": "Relative Performance",
    "heading_risk": "Risk Overview",
    "heading_backtest": "Backtest Snapshot",
    "label_ticker": "Ticker",
    "label_reference_date": "Reference Date",
    "label_close": "Close",
    "label_macd": "MACD",
    "label_signal": "Signal",
    "label_histogram": "Histogram",
    "label_rsi": "RSI(14)",
    "decision_prefix": "Decision",
    "macd_bias_up": "MACD momentum indicates bullish bias.",
    "macd_bias_down": "MACD momentum indicates bearish bias.",
    "macd_bias_flat": "MACD momentum is neutral.",
    "rsi_state_overbought": "RSI shows overbought conditions ({value}).",
    "rsi_state_oversold": "RSI shows oversold conditions ({value}).",
    "rsi_state_neutral": "RSI is neutral ({value}).",
    "rsi_state_na": "RSI data unavailable.",
    "macd_summary": "- MACD: {bias}",
    "rsi_summary": "- RSI: {state}",
    "sma_summary": "- Moving averages (20/50d): {sma20} / {sma50} ‚Äì compare short vs mid-term trends.",
    "volume_summary": "- Volume: {latest} (20d avg {avg20}) to confirm trend strength.",
    "channel_label_short": "Short-term",
    "channel_label_mid": "Mid-term",
    "channel_label_long": "Long-term",
    "channel_trend_up": "uptrend",
    "channel_trend_down": "downtrend",
    "channel_trend_flat": "sideways trend",
    "channel_position_upper": "near the upper band",
    "channel_position_lower": "near the lower band",
    "channel_position_mid": "near the channel midpoint",
    "channel_entry": "- {label} channel ({window} sessions): {trend}, slope {slope:.3f} USD/day ({slope_perc:.2f}% of price), price is {position}.",
    "channel_range": "  ¬∑ Estimated range: upper {upper}, lower {lower}",
    "channel_none": "- Not enough data to derive channel analysis.",
    "support_line": "- Support: {price} (last {window} sessions, {date})",
    "resistance_line": "- Resistance: {price} (last {window} sessions, {date})",
    "support_none": "- Not enough data to compute support/resistance.",
    "final_note": "Review MACD, RSI, moving averages, volume, channel position, and support/resistance together to manage risk.",
    "heading_scorecard": "Composite Scoreboard",
    "score_indicator_line": "- {label}: {value} ‚Üí score {score} (weight {weight}%){note}",
    "score_total_line": "Total score {score} ‚Üí {rating}",
    "score_category_line": "  ¬∑ {label}: {score}",
    "score_data_missing": " (data unavailable, neutral applied)",
    "data_unavailable": "Data unavailable",
    "indicator_rsi": "RSI (momentum)",
    "indicator_macd": "MACD crossover",
    "indicator_volume_spike": "Volume change (5d vs 1m)",
    "indicator_ma_alignment": "Moving-average alignment",
    "indicator_volatility": "Volatility (risk)",
    "indicator_52w_ratio": "Price vs 52-week high",
    "indicator_valuation": "PER/PBR valuation",
    "indicator_eps_growth": "EPS growth (YoY)",
    "indicator_money_flow": "Money flow (5d)",
    "indicator_news_sentiment": "News sentiment",
    "indicator_market_momentum": "Market momentum",
    "category_technical": "Technical factors",
    "category_value": "Valuation / risk",
    "category_fundamental": "Fundamentals",
    "category_supply": "Supply & demand",
    "category_sentiment": "Sentiment & market",
    "rating_strong_buy": "Strong Buy",
    "rating_buy": "Accumulation",
    "rating_neutral": "Neutral / Hold",
    "rating_sell": "Sell signal",
    "heading_probability": "Probability Radar",
    "prob_summary": "Bullish probability: {bullish} | Bearish probability: {bearish} (confidence: {confidence})",
    "prob_confidence_high": "high",
    "prob_confidence_medium": "medium",
    "prob_confidence_low": "low",
    "prob_component_macd": "MACD momentum",
    "prob_component_rsi": "RSI balance",
    "prob_component_sma": "Moving averages",
    "prob_component_channel": "Channel position",
    "prob_component_support": "Support vs resistance",
    "prob_component_line": "  ¬∑ {label}: {score} (weight {weight})",
    "probability_note": "Probabilities are derived from a weighted blend of the indicators above and should be used with other research.",
    "relative_summary": "Relative to {benchmark} over {window} trading days ‚Üí {label} (alpha {alpha}).",
    "relative_returns": "Return comparison: ticker {ticker} vs benchmark {benchmark}.",
    "relative_label_outperform": "Outperforming benchmark",
    "relative_label_underperform": "Lagging benchmark",
    "relative_label_neutral": "In line with benchmark",
    "risk_vol_30": "30d volatility",
    "risk_vol_60": "60d volatility",
    "risk_mdd_180": "Max drawdown (180d)",
    "risk_atr": "ATR(14)",
    "risk_stop_loss": "Suggested stop-loss",
    "risk_metric_line": "- {label}: {value}",
    "risk_level_line": "Risk level: {label}",
    "risk_level_low": "Low",
    "risk_level_medium": "Moderate",
    "risk_level_high": "High",
    "risk_level_unknown": "Unclassified",
    "backtest_summary": "Buy-and-hold {days}d return {ticker_return} (benchmark {benchmark_return}).",
    "backtest_alpha": "Alpha vs {benchmark}: {alpha}",
    "backtest_win_rate": "Win rate during window: {win_rate}",
    "backtest_note": "Simple comparison using daily closing prices.",
    # CLI parser / runtime strings
    "cli.parser.prog": "stock-cli",
    "cli.parser.description": "Conversational streaming stock analysis CLI.",
    "cli.parser.epilog": """Examples:
  stock-cli analyze AAPL                    # Analyze a single ticker
  stock-cli analyze AAPL TSLA GOOGL         # Analyze multiple tickers
  stock-cli analyze --export json           # Save as JSON
  stock-cli interactive                     # Interactive mode
  stock-cli export AAPL --format json       # Export after analysis
""",
    "cli.parser.subcommands_help": "Available commands",
    "cli.parser.option.lang": "Language code (ko, en)",
    "cli.parser.option.benchmark": "Benchmark ticker (default SPY)",
    "cli.parser.option.backtest": "Lookback window (days) for simple backtest",
    "cli.parser.analyze.help": "Stock ticker analysis",
    "cli.parser.analyze.description": "Technical analysis using Yahoo Finance data",
    "cli.parser.analyze.tickers": "Ticker symbols to analyze (e.g., AAPL TSLA)",
    "cli.parser.analyze.export": "Specify storage format (can be used multiple times)",
    "cli.parser.analyze.json_path": "JSON storage path",
    "cli.parser.analyze.csv_path": "CSV storage path",
    "cli.parser.interactive.help": "Start interactive mode",
    "cli.parser.interactive.description": "Analyze multiple tickers in interactive mode",
    "cli.parser.export.help": "Export analysis results",
    "cli.parser.export.description": "Export analysis results in specified format after analysis",
    "cli.parser.export.tickers": "Ticker symbols to analyze",
    "cli.parser.export.format": "Export format (required)",
    "cli.parser.export.json_path": "JSON storage path",
    "cli.parser.export.csv_path": "CSV storage path",
    "cli.prompt.user": "\033[38;5;111mYou\033[0m      > ",
    "cli.prompt.assistant": "\033[38;5;213mAssistant\033[0m  > ",
    "cli.prompt.confirm_exit": "Press Enter again if you'd like to exit.",
    "cli.prompt.analyzing": "Let me take a look at {ticker}.",
    "cli.prompt.analyze_command": "analyze {ticker}",
    "cli.process.fetching": "Fetching the market data...",
    "cli.process.analyzing": "Data ready. Streaming the breakdown now.",
    "cli.process.error": "I couldn't load that ticker.",
    "cli.process.error_detail": "Error detail: {error}",
    "cli.process.hint": "Please verify the ticker symbol (e.g., AAPL, TSLA, GOOGL).",
    "cli.export.skip": "Skipping the export.",
    "cli.export.default_path": "Default path: {path}",
    "cli.export.path_prompt": "Save path (Enter=default): ",
    "cli.export.mysql_prompt": "Please provide MySQL connection details:",
    "cli.export.postgres_prompt": "Please provide PostgreSQL connection details:",
    "cli.export.unknown_format": "I don't recognize the '{format}' format.",
    "cli.export.unknown_hint": "Please choose among json, csv, mysql, postgres, or skip.",
    "cli.export.saving": "Saving as {format}...",
    "cli.export.success": "Finished saving as {format}.",
    "cli.export.error": "An error occurred while saving: {error}",
    "cli.export.more": "Save in another format? (y/n): ",
    "cli.export.done": "All exports complete.",
    "cli.export.affirmative_inputs": "y,yes",
    "cli.interactive.goodbye1": "Ending the session for now.",
    "cli.interactive.goodbye2": "Ping me again anytime.",
    "cli.interactive.continue_prompt": "Analyze another ticker? (Enter=continue, 'n'=exit): ",
    "cli.interactive.farewell1": "Hope the signals were helpful.",
    "cli.interactive.farewell2": "Happy investing.",
    "cli.interactive.farewell3": "Goodbye!",
    "cli.interactive.exit_inputs": "n,no,quit,exit,ÏïÑÎãàÏò§,Ï¢ÖÎ£å",
    "cli.error.ticker_required": "‚ùå Please specify at least one ticker.",
    "cli.exit": "üëã Exiting the program. Goodbye!",
    "cli.commands.help": "/help,help,?,ÎèÑÏõÄÎßê",
    "cli.commands.quit": "/quit,/exit,quit,exit,Ï¢ÖÎ£å",
    "cli.defaults.benchmark": "SPY",
    "cli.defaults.relative_window": "60",
    # Exporter prompts still referenced outside the assistant layer
    "prompt_json_path": "JSON output path (default {default}): ",
    "prompt_csv_path": "CSV output path (default {default}): ",
    "prompt_mysql_host": "MySQL host (default localhost): ",
    "prompt_mysql_port": "MySQL port (default 3306): ",
    "prompt_mysql_user": "MySQL user (default root): ",
    "prompt_mysql_password": "MySQL password (press Enter if empty): ",
    "prompt_mysql_database": "MySQL database name: ",
    "prompt_mysql_table": "MySQL table name (default stock_analysis): ",
    "prompt_postgres_host": "PostgreSQL host (default localhost): ",
    "prompt_postgres_port": "PostgreSQL port (default 5432): ",
    "prompt_postgres_user": "PostgreSQL user (default postgres): ",
    "prompt_postgres_password": "PostgreSQL password (press Enter if empty): ",
    "prompt_postgres_database": "PostgreSQL database name: ",
    "prompt_postgres_schema": "PostgreSQL schema (press Enter if default): ",
    "prompt_postgres_table": "PostgreSQL table name (default stock_analysis): ",
    "prompt_more_export": "Would you like to save in another format? (Y/n): ",
    "prompt_another_ticker": "Analyze another ticker? (Y/n): ",
    "exit_message": "Exiting analysis.",
    "unknown_export_format": "Unknown format. Choose among json/csv/mysql/postgres/skip.",
    "export_success": "{label} export completed successfully.",
    "export_error": "Export via {label} failed: {error}",
    "configured_export_prepare_error": "Failed to prepare pre-configured exports: {error}",
    "configured_export_error": "{label} export failed: {error}",
    "configured_export_success": "{label} export completed.",
    "configured_export_warning_no_export": "Warning: No --export option supplied; results will only print.",
    "data_fetch_error": "Failed to load data for {ticker}: {error}",
    "error_missing_option": "Option {flag} must be provided.",
    "startup_tip": "Tip: Run `python analyze_stock.py --ticker TICKER --lang en --export json` for automated mode, or add --lang ko for Korean.",
}

LANGUAGE_EN = LanguagePack(code="en", name="English", messages=MESSAGES)
